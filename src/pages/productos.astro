---
import BaseLayout from "../layouts/BaseLayout.astro";
import BackHome from "../components/BackHome.astro";
---

<BaseLayout
  title="Productos | Rykuo"
  description="Catálogo de productos industriales de alto rendimiento."
>

  <div class="pt-32 max-w-7xl mx-auto px-6">
    <BackHome />
  </div>

  <section class="pt-32 pb-24 bg-white">

    <div class="max-w-7xl mx-auto px-6">

      <h1 class="text-4xl md:text-5xl font-light mb-16">
        Productos
      </h1>

      <!-- Filtro -->
      <div class="mb-10">
        <label class="mr-2 font-semibold">Filtrar por categoría:</label>
        <select id="filter" class="border px-3 py-2 rounded">
          <option value="all">Todos</option>
          <option value="motores">Motores</option>
          <option value="automatizacion">Automatización</option>
          <option value="control">Control</option>
        </select>
      </div>

      <!-- Grid Productos -->
      <div class="grid md:grid-cols-3 gap-10">

        <div class="producto border p-6 rounded-lg hover:shadow-lg transition"
             data-category="motores">
          <img src="/images/product1.jpg" class="h-80 w-full object-cover mb-6 rounded" />
          <h2 class="text-xl font-medium mb-2">Motor Industrial X</h2>
          <p class="text-gray-600 text-sm">
            Motor de alta eficiencia energética para entornos exigentes.
          </p>
        </div>

        <div class="producto border p-6 rounded-lg hover:shadow-lg transition"
             data-category="automatizacion">
          <img src="/images/product2.jpg" class="h-80 w-full object-cover mb-6 rounded" />
          <h2 class="text-xl font-medium mb-2">Sistema Automatizado</h2>
          <p class="text-gray-600 text-sm">
            Automatización avanzada para líneas de producción.
          </p>
        </div>

        <div class="producto border p-6 rounded-lg hover:shadow-lg transition"
             data-category="control">
          <img src="/images/product3.jpg" class="h-80 w-full object-cover mb-8 rounded" />
          <h2 class="text-xl font-medium mb-2">Controlador Inteligente</h2>
          <p class="text-gray-600 text-sm">
            Control y monitoreo en tiempo real.
          </p>
        </div>

      </div>

    </div>
  </section>

  <!-- Script del filtro -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const filter = document.getElementById("filter") as HTMLSelectElement | null;
    const productos = document.querySelectorAll<HTMLElement>(".producto");

    if (!filter) return;

    filter.addEventListener("change", () => {
      const value = filter.value;

      productos.forEach((producto) => {
        const category = producto.dataset.category;

        if (value === "all" || category === value) {
          producto.style.display = "block";
        } else {
          producto.style.display = "none";
        }
      });
    });
  });
</script>

</BaseLayout>